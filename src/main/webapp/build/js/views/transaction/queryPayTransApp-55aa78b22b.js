angular.module("myApp").controller("queryCtrl",["$scope","$http","$httpParamSerializerJQLike","$log","OpenService","CheckboxService","CacheService","limitToFilter","filterFilter","dateFilter","myConstant","DateCalculateService",function(e,t,a,n,r,o,l,c,i,u,s,d){function y(){var e=document.getElementById("queryForm");g.url=angular.element(e).prop("action"),g.postData=angular.copy(g.queryBean),g.postData.pageSize=g.pagination.pageSize,g.postData.pageNum=g.pagination.pageNum,g.postData.beginOrderDate=u(g.postData.beginOrderDate,"yyyyMMdd"),g.postData.endOrderDate=u(g.postData.endOrderDate,"yyyyMMdd"),g.postData.beginSettleDate=u(g.postData.beginSettleDate,"yyyyMMdd"),g.postData.endSettleDate=u(g.postData.endSettleDate,"yyyyMMdd"),t.post(g.url,a(g.postData)).then(function(e){var t=e.data;t.success?(g.pagination=t.object,g.sumObject=t.sumObject):alert(t.msg)})}function p(){g.queryBean={beginSettleDate:d.getYesterday(),endSettleDate:d.getToday(),deleteFlag:"0"}}function D(e){var n;t.post(config.ctx+"/payTrans/queryPayTransDetail",a({payTransNo:e})).then(function(t){var a=t.data;a.success?(n=a.object,r({modalTitle:"支付交易查询",modalBody:"toQueryDetail",url:"queryDetail",item:{results:n,payTransNo:e},cached:g.cached},function(e){},"QueryDetailModalInstanceCtrl","myModalNoSave.html")):alert(a.msg)})}var g=e.vm={};g.constant=s,g.pagination={pageSize:10,pageNum:1},g.queryBean={beginSettleDate:d.getYesterday(),endSettleDate:d.getToday()},g.cached={ORDER_STATUS:{},NOTIFY_STATUS:{},CONN_CHANNEL:{},REVERSE_FLAG:{},COMANY_CODE:{},ORDER_TYPE:{},PAY_TRANS_CODE:{},DELETE_STATUS:{},ORG_BANK_CODE_DESC:{},COMMON_REFUND_FLAG:{},BANK_TYPE:{},PROTOCOL_TYPE:{},FUND_TYPE:{}},l.initCache(g.cached),g.getCache=function(e){return l.getCache(e)},g.getObj=function(e,r){return t.post(config.ctx+"/base/cache/getAll",a({cacheKey:e})).then(function(e){return c(i(e.data.object,r),6)},function(e){n.error("获取数据%s失败",cacheKey)})},g.queryDetail=y,g.resetForm=p,g.queryPayTransDetail=D}]),angular.module("myApp").controller("QueryDetailModalInstanceCtrl",["$scope","$uibModalInstance","modalItem","$http","$httpParamSerializerJQLike",function(e,t,a,n,r){var o=e.vm={modalTitle:"please change the title",modalBody:"#",url:"",item:{}};o=e.vm=a,e.cancel=function(){t.dismiss("cancel")}}]);