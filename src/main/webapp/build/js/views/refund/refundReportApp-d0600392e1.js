angular.module("myApp").controller("queryCtrl",["$scope","$http","$httpParamSerializerJQLike","$log","OpenService","CheckboxService","CacheService","dateFilter","myConstant","DateCalculateService",function(e,t,r,a,c,n,o,u,i,l){function s(){var e=document.getElementById("queryForm");d.url=angular.element(e).prop("action"),d.postData=d.queryBean,d.postData.sDate=u(d.queryBean.oDate,"yyyyMMdd"),t.post(d.url,r(d.postData)).then(function(e){var t=e.data;t.success?(d.result=t.object,d.sumObject=t.sumObject,n.clearChecked()):alert(t.msg)})}function y(){d.queryBean={oDate:l.getYesterday()}}var d=e.vm={};d.constant=i,d.downCfg={contentType:"jqLike",date:{oDate:"yyyyMMdd"}},d.result={},d.queryBean={oDate:l.getYesterday()},d.validateOptions={blurTrig:!0,showError:function(e,t){},removeError:!0},d.queryDetail=s,d.resetForm=y,d.cached={MCHNT_BUSI_TYPE:{},MERCHANT_CODE:{},COMANY_CODE:{},BANK_INFO:{}},o.initCache(d.cached),d.getCache=function(e){return o.getCache(e)},d.getObj=function(e,c){return t.post(config.ctx+"/base/cache/getAll",r({cacheKey:e})).then(function(e){return limitToFilter(filterFilter(e.data.object,c),6)},function(e){a.error("获取数据%s失败",cacheKey)})}}]);