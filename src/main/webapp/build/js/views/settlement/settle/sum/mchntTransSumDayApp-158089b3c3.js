angular.module("myApp").controller("queryCtrl",["$scope","$http","$httpParamSerializerJQLike","$log","OpenService","CheckboxService","CacheService","limitToFilter","filterFilter","dateFilter","myConstant",function(e,t,a,n,r,o,c,i,u,y,p){function g(){var e=document.getElementById("queryForm");D.url=angular.element(e).prop("action"),D.postData=angular.copy(D.queryBean),D.postData.pageSize=D.pagination.pageSize,D.postData.pageNum=D.pagination.pageNum,D.postData.beginDate=y(D.postData.beginDate,"yyyyMMdd"),D.postData.endDate=y(D.postData.endDate,"yyyyMMdd"),t.post(D.url,a(D.postData)).then(function(e){var t=e.data;t.success?(D.pagination=t.object,D.sumObject=t.sumObject):alert(t.msg)},function(e){alert("操作失败")})}function s(){D.queryBean={},D.queryBean.beginDate=new Date,D.queryBean.endDate=new Date,D.queryBean.sumType="01"}var D=e.vm={};D.constant=p,D.downCfg={contentType:"jqLike",date:{beginDate:"yyyyMMdd",endDate:"yyyyMMdd"}},D.pagination={pageSize:10,pageNum:1},D.sumObject={},D.queryBean={},D.queryBean.beginDate=new Date,D.queryBean.endDate=new Date,D.cached={MERCHANT_CODE:{}},c.initCache(D.cached),D.getCache=function(e){return c.getCache(e)},D.getObj=function(e,r){return t.post(config.ctx+"/base/cache/getAll",a({cacheKey:e})).then(function(e){return i(u(e.data.object,r),6)},function(e){n.error("获取数据%s失败",cacheKey)})},D.queryDetail=g,D.resetForm=s}]);