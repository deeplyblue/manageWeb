angular.module("myApp").controller("queryCtrl",["$scope","$http","$httpParamSerializerJQLike","$log","OpenService","CheckboxService","CacheService","limitToFilter","filterFilter","dateFilter","myConstant",function(e,a,t,n,r,o,i,c,u,y,p){function g(){var e=document.getElementById("queryForm");l.url=angular.element(e).prop("action"),l.postData=angular.copy(l.queryBean),l.postData.pageSize=l.pagination.pageSize,l.postData.pageNum=l.pagination.pageNum,l.postData.beginDate=y(l.postData.beginDate,"yyyyMMdd"),l.postData.endDate=y(l.postData.endDate,"yyyyMMdd"),a.post(l.url,t(l.postData)).then(function(e){var a=e.data;a.success?(l.pagination=a.object,l.sumObject=a.sumObject):alert(a.msg)},function(e){alert("操作失败")})}function d(){l.queryBean={},l.queryBean.beginDate=new Date,l.queryBean.endDate=new Date,l.queryBean.radioValue="01",l.queryBean.sumType="01"}var l=e.vm={};l.constant=p,l.downCfg={contentType:"jqLike",date:{beginDate:"yyyyMMdd",endDate:"yyyyMMdd"}},l.pagination={pageSize:10,pageNum:1},l.sumObject={},l.queryBean={},l.queryBean.beginDate=new Date,l.queryBean.endDate=new Date,l.queryBean.radioValue="01",l.cached={USER_TYPE:{},ROLE_INFO:{},USER_STATUS:{},BANK_INFO:{},COMANY_CODE:{}},i.initCache(l.cached),l.getCache=function(e){return i.getCache(e)},l.getObj=function(e,r){return a.post(config.ctx+"/base/cache/getAll",t({cacheKey:e})).then(function(e){return c(u(e.data.object,r),6)},function(e){n.error("获取数据%s失败",cacheKey)})},l.queryDetail=g,l.resetForm=d}]);