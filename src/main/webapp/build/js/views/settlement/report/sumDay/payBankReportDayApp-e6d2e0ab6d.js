angular.module("myApp").controller("queryCtrl",["$scope","$http","$httpParamSerializerJQLike","$log","OpenService","CheckboxService","CacheService","limitToFilter","filterFilter","dateFilter","myConstant","DateCalculateService",function(e,t,n,a,r,c,o,i,u,l,y,s){function d(){var e=document.getElementById("queryForm");h.url=angular.element(e).prop("action");var n={};n.list=null,n.queryBean=h.queryBean,t.post(h.url,n,config.jsonHeader).then(function(e){var t=e.data;t.success?h.pagination=t.object:alert(t.msg)},function(e){alert("操作失败")})}function g(){h.queryBean={}}var h=e.vm={};h.constant=y,h.downCfg={contentType:"jqLike",date:{sumDate:"yyyyMMdd"}},h.queryBean={},h.queryBean.sumDate=s.getYesterday(),h.cached={PAY_BANK_CODE:{},COMANY_CODE:{}},o.initCache(h.cached),h.getCache=function(e){return o.getCache(e)},h.getObj=function(e,r){return t.post(config.ctx+"/base/cache/getAll",n({cacheKey:e})).then(function(e){return i(u(e.data.object,r),6)},function(e){a.error("获取数据%s失败",cacheKey)})},h.queryDetail=d,h.resetForm=g}]);