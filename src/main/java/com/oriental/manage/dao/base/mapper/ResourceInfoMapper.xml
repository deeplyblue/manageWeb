<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.oriental.manage.dao.base.ResourceInfoMapper">
    <resultMap id="BaseResultMap" type="com.oriental.manage.pojo.base.ResourceInfo">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="RSRC_CODE" property="rsrcCode" jdbcType="VARCHAR"/>
        <result column="RSRC_NAME" property="rsrcName" jdbcType="VARCHAR"/>
        <result column="RSRC_DESC" property="rsrcDesc" jdbcType="VARCHAR"/>
        <result column="PARENT_RSRC_CODE" property="parentRsrcCode" jdbcType="VARCHAR"/>
        <result column="RSRC_URL" property="rsrcUrl" jdbcType="VARCHAR"/>
        <result column="RSRC_TYPE" property="rsrcType" jdbcType="VARCHAR"/>
        <result column="RSRC_OPERATION" property="rsrcOperation" jdbcType="VARCHAR"/>
        <result column="RSRC_VISABLE_FLAG" property="rsrcVisableFlag" jdbcType="VARCHAR"/>
        <result column="RSRC_DSP_ORDER" property="rsrcDspOrder" jdbcType="VARCHAR"/>
        <result column="RSRC_STATUS" property="rsrcStatus" jdbcType="VARCHAR"/>
        <result column="SPARE1" property="spare1" jdbcType="VARCHAR"/>
        <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP"/>
        <result column="LAST_UPD_TIME" property="lastUpdTime" jdbcType="TIMESTAMP"/>
        <result column="RESOURCE_TYPE" property="resourceType" jdbcType="VARCHAR"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        RSRC_CODE, RSRC_NAME, RSRC_DESC, PARENT_RSRC_CODE, RSRC_URL, RSRC_TYPE, RSRC_OPERATION,
        RSRC_VISABLE_FLAG, RSRC_DSP_ORDER, RSRC_STATUS, SPARE1, CREATE_TIME, LAST_UPD_TIME,
        RESOURCE_TYPE
    </sql>
    <sql id="Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        info.RSRC_CODE, info.RSRC_NAME, info.RSRC_DESC, info.PARENT_RSRC_CODE, info.RSRC_URL, info.RSRC_TYPE,
        info.RSRC_OPERATION,
        info.RSRC_VISABLE_FLAG, info.RSRC_DSP_ORDER, info.RSRC_STATUS, info.SPARE1, info.CREATE_TIME,
        info.LAST_UPD_TIME,
        info.RESOURCE_TYPE
    </sql>
    <sql id="condition">
        <if test="resourceType != null">
          AND  RESOURCE_TYPE = #{resourceType,jdbcType=VARCHAR}
        </if>
    </sql>
    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        from t_resource_info
        where RSRC_CODE = #{rsrcCode,jdbcType=VARCHAR}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from t_resource_info
        where RSRC_CODE = #{rsrcCode,jdbcType=VARCHAR}
    </delete>
    <insert id="insert" parameterType="com.oriental.manage.pojo.base.ResourceInfo">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into t_resource_info (RSRC_CODE, RSRC_NAME, RSRC_DESC,
        PARENT_RSRC_CODE, RSRC_URL, RSRC_TYPE,
        RSRC_OPERATION, RSRC_VISABLE_FLAG, RSRC_DSP_ORDER,
        RSRC_STATUS, SPARE1, CREATE_TIME,
        LAST_UPD_TIME, RESOURCE_TYPE)
        values (#{rsrcCode,jdbcType=VARCHAR}, #{rsrcName,jdbcType=VARCHAR}, #{rsrcDesc,jdbcType=VARCHAR},
        #{parentRsrcCode,jdbcType=VARCHAR}, #{rsrcUrl,jdbcType=VARCHAR}, #{rsrcType,jdbcType=VARCHAR},
        #{rsrcOperation,jdbcType=VARCHAR}, #{rsrcVisableFlag,jdbcType=VARCHAR}, #{rsrcDspOrder,jdbcType=VARCHAR},
        #{rsrcStatus,jdbcType=VARCHAR}, #{spare1,jdbcType=VARCHAR}, #{createTime,jdbcType=TIMESTAMP},
        #{lastUpdTime,jdbcType=TIMESTAMP}, #{resourceType,jdbcType=VARCHAR})
    </insert>
    <insert id="insertSelective" parameterType="com.oriental.manage.pojo.base.ResourceInfo">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into t_resource_info
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="rsrcCode != null">
                RSRC_CODE,
            </if>
            <if test="rsrcName != null">
                RSRC_NAME,
            </if>
            <if test="rsrcDesc != null">
                RSRC_DESC,
            </if>
            <if test="parentRsrcCode != null">
                PARENT_RSRC_CODE,
            </if>
            <if test="rsrcUrl != null">
                RSRC_URL,
            </if>
            <if test="rsrcType != null">
                RSRC_TYPE,
            </if>
            <if test="rsrcOperation != null">
                RSRC_OPERATION,
            </if>
            <if test="rsrcVisableFlag != null">
                RSRC_VISABLE_FLAG,
            </if>
            <if test="rsrcDspOrder != null">
                RSRC_DSP_ORDER,
            </if>
            <if test="rsrcStatus != null">
                RSRC_STATUS,
            </if>
            <if test="spare1 != null">
                SPARE1,
            </if>
            <if test="createTime != null">
                CREATE_TIME,
            </if>
            <if test="lastUpdTime != null">
                LAST_UPD_TIME,
            </if>
            <if test="resourceType != null">
                RESOURCE_TYPE,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="rsrcCode != null">
                #{rsrcCode,jdbcType=VARCHAR},
            </if>
            <if test="rsrcName != null">
                #{rsrcName,jdbcType=VARCHAR},
            </if>
            <if test="rsrcDesc != null">
                #{rsrcDesc,jdbcType=VARCHAR},
            </if>
            <if test="parentRsrcCode != null">
                #{parentRsrcCode,jdbcType=VARCHAR},
            </if>
            <if test="rsrcUrl != null">
                #{rsrcUrl,jdbcType=VARCHAR},
            </if>
            <if test="rsrcType != null">
                #{rsrcType,jdbcType=VARCHAR},
            </if>
            <if test="rsrcOperation != null">
                #{rsrcOperation,jdbcType=VARCHAR},
            </if>
            <if test="rsrcVisableFlag != null">
                #{rsrcVisableFlag,jdbcType=VARCHAR},
            </if>
            <if test="rsrcDspOrder != null">
                #{rsrcDspOrder,jdbcType=VARCHAR},
            </if>
            <if test="rsrcStatus != null">
                #{rsrcStatus,jdbcType=VARCHAR},
            </if>
            <if test="spare1 != null">
                #{spare1,jdbcType=VARCHAR},
            </if>
            <if test="createTime != null">
                #{createTime,jdbcType=TIMESTAMP},
            </if>
            <if test="lastUpdTime != null">
                #{lastUpdTime,jdbcType=TIMESTAMP},
            </if>
            <if test="resourceType != null">
                #{resourceType,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.oriental.manage.pojo.base.ResourceInfo">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update t_resource_info
        <set>
            <if test="rsrcName != null">
                RSRC_NAME = #{rsrcName,jdbcType=VARCHAR},
            </if>
            <if test="rsrcDesc != null">
                RSRC_DESC = #{rsrcDesc,jdbcType=VARCHAR},
            </if>
            <if test="parentRsrcCode != null">
                PARENT_RSRC_CODE = #{parentRsrcCode,jdbcType=VARCHAR},
            </if>
            <if test="rsrcUrl != null">
                RSRC_URL = #{rsrcUrl,jdbcType=VARCHAR},
            </if>
            <if test="rsrcType != null">
                RSRC_TYPE = #{rsrcType,jdbcType=VARCHAR},
            </if>
            <if test="rsrcOperation != null">
                RSRC_OPERATION = #{rsrcOperation,jdbcType=VARCHAR},
            </if>
            <if test="rsrcVisableFlag != null">
                RSRC_VISABLE_FLAG = #{rsrcVisableFlag,jdbcType=VARCHAR},
            </if>
            <if test="rsrcDspOrder != null">
                RSRC_DSP_ORDER = #{rsrcDspOrder,jdbcType=VARCHAR},
            </if>
            <if test="rsrcStatus != null">
                RSRC_STATUS = #{rsrcStatus,jdbcType=VARCHAR},
            </if>
            <if test="spare1 != null">
                SPARE1 = #{spare1,jdbcType=VARCHAR},
            </if>
            <if test="createTime != null">
                CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
            </if>
            <if test="lastUpdTime != null">
                LAST_UPD_TIME = #{lastUpdTime,jdbcType=TIMESTAMP},
            </if>
            <if test="resourceType != null">
                RESOURCE_TYPE = #{resourceType,jdbcType=VARCHAR},
            </if>
        </set>
        where RSRC_CODE = #{rsrcCode,jdbcType=VARCHAR}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.oriental.manage.pojo.base.ResourceInfo">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update t_resource_info
        set RSRC_NAME = #{rsrcName,jdbcType=VARCHAR},
        RSRC_DESC = #{rsrcDesc,jdbcType=VARCHAR},
        PARENT_RSRC_CODE = #{parentRsrcCode,jdbcType=VARCHAR},
        RSRC_URL = #{rsrcUrl,jdbcType=VARCHAR},
        RSRC_TYPE = #{rsrcType,jdbcType=VARCHAR},
        RSRC_OPERATION = #{rsrcOperation,jdbcType=VARCHAR},
        RSRC_VISABLE_FLAG = #{rsrcVisableFlag,jdbcType=VARCHAR},
        RSRC_DSP_ORDER = #{rsrcDspOrder,jdbcType=VARCHAR},
        RSRC_STATUS = #{rsrcStatus,jdbcType=VARCHAR},
        SPARE1 = #{spare1,jdbcType=VARCHAR},
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
        LAST_UPD_TIME = #{lastUpdTime,jdbcType=TIMESTAMP},
        RESOURCE_TYPE = #{resourceType,jdbcType=VARCHAR}
        where RSRC_CODE = #{rsrcCode,jdbcType=VARCHAR}
    </update>
    <select id="selectUserResource" parameterType="java.lang.String" resultMap="BaseResultMap">
        SELECT DISTINCT
        <include refid="Base_Column_List"/>
        FROM (
        SELECT
        info.*
        FROM t_resource_info info,t_auth_cfg cfg,t_user_role role
        WHERE role.USER_ID = #{userId,jdbcType=VARCHAR}
        AND role.ROLE_ID = cfg.ROLE_ID
        AND cfg.RSRC_CODE = info.RSRC_CODE) info2
    </select>
    <select id="selectBySelective" parameterType="com.oriental.manage.pojo.base.ResourceInfo" resultMap="BaseResultMap">
        SELECT
        <include refid="Base_Column_List"/>
        FROM t_resource_info
        WHERE 1 = 1
        <include refid="condition"/>
    </select>
    <select id="queryByRoleId" parameterType="java.lang.String" resultMap="BaseResultMap">
        SELECT
        <include refid="Column_List"/>
        FROM t_resource_info info,t_auth_cfg cfg
        WHERE info.RSRC_CODE = cfg.RSRC_CODE
        AND cfg.ROLE_ID = #{id,jdbcType=VARCHAR}
    </select>
</mapper>